{"id": "fc4yn1", "title": "Having difficulties accessing metadata headers in the Gmail API", "url": "https://www.reddit.com/r/learnpython/comments/fc4yn1/having_difficulties_accessing_metadata_headers_in/", "subreddit": "learnpython", "author": "t2_13kiqkb2", "text": "As the title said, I am having a really tough time getting the data from the metadata headers when I \"get\" an email.\n\nWhat I would like to be able to do is get the metadata headers of an email for only the following headers:\n\n*  From\n* Subject\n* Date\n* Return-Path\n\nAccording to the [API docs](https://developers.google.com/gmail/api/v1/reference/users/messages#resource), I should be able to access the metadata info with \"payload.headers[].name\" . Unfortunately, in my current state I keep getting a key error for exactly that. \n\n[Here is a link](https://github.com/Skykn0t/SpamGrabber/blob/master/SpamGrabber.py) to my github with my full code for context. Lines 58 - 62 seem to be the pain point. I know it is really rough, but this was supposed to be a simple script to help me with a paper for a class...", "comments": []}